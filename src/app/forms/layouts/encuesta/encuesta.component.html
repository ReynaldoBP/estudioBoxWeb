<!-- Basic form layout section start -->
<section id="basic-form-layouts">
	<div class="row text-left">
        <div class="col-sm-12">
            <div class="content-header mt-0">Encuesta</div>
        </div>
    </div>
	<div class="row text-left">
		<div class="col-md-12">
			<div class="card">
				<div class="card-header">
					<h4 class="card-title" id="basic-layout-form">{{encuesta.id == '0'?'Nueva encuesta':'Editando encuesta'}}</h4>
					<!--
						<p class="mb-0">This is the most basic and default form having form sections. To add form section use <code>.form-section</code> class with any heading tags. This form has the buttons on the bottom left corner which is the default position.</p>
					-->
					
				</div>
				<div class="card-body">
					<div class="px-3">
						<form class="form">
							<div class="form-body">
								<h4 class="form-section"><i class="ft-user"></i> Datos Cabecera</h4>
								<div class="row">
									<div class="col-md-4">
										<div class="form-group">
											<label for="encuestatitulo">Titulo</label>
											<input type="text" id="encuestatitulo" class="form-control"  name="encuestatitulo" [(ngModel)]="encuesta.titulo">
										</div>
									</div>
									<div class="col-md-8">
										<div class="form-group">
											<label for="encuestaDescr">Descripcion</label>
											<input type="text" id="encuestaDescr" class="form-control"  name="encuestaDescr" [(ngModel)]="encuesta.descripcion">
										</div>
									</div>
									<!--
										<div class="col-md-5">
										<div class="form-group">
											<label for="cmbRestaurante">Restaurante</label>
											<select id="cmbRestaurante" name="cmbRestaurante" class="form-control" [(ngModel)]="encuesta.idrestaurante">
												<option value="none" selected="" disabled="">Seleccione</option>
												<option *ngFor="let item of listRestaurante" value="{{item['ID_RESTAURANTE']}}">{{item['NOMBRE_COMERCIAL']}}</option>
											</select>
										</div>
										</div>
									-->
								</div>
								<div class="row">
									<div class="col-md-6">
										<div class="form-group">
											<label>Estado</label>
											<div class="input-group">
												<div class="custom-control custom-radio display-inline-block">
													<input type="radio" id="rdEstado" name="rdEstado" class="custom-control-input" [(ngModel)]="encuesta.estado" [value]="true">
													<label class="custom-control-label" for="rdEstado">Activo</label>
												</div>
												<div class="custom-control custom-radio display-inline-block">
													<input type="radio" id="rdEstado2" name="rdEstado2" class="custom-control-input" [(ngModel)]="encuesta.estado" [value]="false">
													<label class="custom-control-label" for="rdEstado2">Inactivo</label>
												</div>
											</div>
										</div>
									</div>
									<div class="col-md-6 mt-4" align="right" >
										<div class="form-group mb-0">
											<button type="button" class="btn btn-raised btn-raised btn-primary mb-0" (click)="addPregunta()">
												<i class="fa fa-plus"></i> Agregar Pregunta
											</button>
										</div>
									</div>									
								</div>

								<h4 class="form-section"><i class="ft-file-text"></i> Preguntas</h4>

								<div class="row">
									<table class="table table-responsive-md text-center">
										<thead>
											<tr>
												<th>#</th>
												<th>Pregunta</th>
												<th>Opciones</th>
												<th>Obligatoria</th>
												<th>C. Comercial</th>												
												<th></th>
											</tr>
										</thead>
										<tbody>
											<tr *ngFor="let item of listPreguntas">
												<td>{{listPreguntas.indexOf(item) + 1}}</td>
												<td style="width: 50%">
													<input type="text" class="form-control" [(ngModel)]="item['pregunta']" [ngModelOptions]="{standalone: true}" >
												<td>
													<select class="form-control" [(ngModel)]="item['opciones']" [ngModelOptions]="{standalone: true}">
														<option value="" selected="" disabled="">Seleccione:</option>
														<option *ngFor="let item of listOpciones" value="{{item['ID_OPCION_RESPUESTA']}}">{{item['DESCRIPCION']}}</option>
													</select>
												</td>
												<td>
													<select class="form-control" [(ngModel)]="item['obligatoria']" [ngModelOptions]="{standalone: true}">
														<option value="SI">SI</option>
														<option value="NO">NO</option>
													</select>
												</td>
												<td>
													<select class="form-control" [(ngModel)]="item['cc']" [ngModelOptions]="{standalone: true}">
														<option value="SI">SI</option>
														<option value="NO">NO</option>
													</select>
												</td>
												<td>		
													<a class="danger p-0" data-original-title="" title="" (click)="removePregunta(item)">
														<i class="ft-x font-medium-3 mr-2"></i>
													</a>
												</td>												
											</tr>													
										</tbody>
									</table>
								</div>	

								
							</div>

							<div class="form-actions">
								<button type="button" class="btn btn-raised btn-raised btn-warning mr-1" [routerLink]="['/tables/encuesta']">
									<i class="ft-x"></i> Cancelar
								</button>
								<button type="button" class="btn btn-raised btn-raised btn-primary" (click)="guardarDatos()">
									<i class="fa fa-check-square-o"></i> Guardar Datos
								</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- // Basic form layout section end -->